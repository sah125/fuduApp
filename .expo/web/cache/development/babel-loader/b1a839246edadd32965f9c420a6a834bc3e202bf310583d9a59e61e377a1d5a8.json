{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport instance from \"../../axios/axios-instance\";\nexport var FORGOT_PASSWORD_REQUEST = \"FORGOT_PASSWORD_REQUEST\";\nexport var FORGOT_PASSWORD_SUCCESS = \"FORGOT_PASSWORD_SUCCESS\";\nexport var FORGOT_PASSWORD_FAILURE = \"FORGOT_PASSWORD_FAILURE\";\nexport var RESET_PASSWORD_REQUEST = 'RESET_PASSWORD_REQUEST';\nexport var RESET_PASSWORD_SUCCESS = 'RESET_PASSWORD_SUCCESS';\nexport var RESET_PASSWORD_FAILURE = 'RESET_PASSWORD_FAILURE';\nexport var resetPasswordRequest = function resetPasswordRequest() {\n  return {\n    type: RESET_PASSWORD_REQUEST\n  };\n};\nexport var resetPasswordSuccess = function resetPasswordSuccess() {\n  return {\n    type: RESET_PASSWORD_SUCCESS\n  };\n};\nexport var resetPasswordFailure = function resetPasswordFailure(error) {\n  return {\n    type: RESET_PASSWORD_FAILURE,\n    payload: error\n  };\n};\nexport var loginRequest = function loginRequest(credentials) {\n  return {\n    type: \"LOGIN_REQUEST\",\n    payload: credentials\n  };\n};\nexport var loginSuccess = function loginSuccess(user) {\n  return {\n    type: \"LOGIN_SUCCESS\",\n    payload: {\n      user: user\n    }\n  };\n};\nexport var loginFailure = function loginFailure(error) {\n  return {\n    type: \"LOGIN_FAILURE\",\n    payload: {\n      error: error\n    }\n  };\n};\nexport var forgotPasswordRequest = function forgotPasswordRequest() {\n  return {\n    type: FORGOT_PASSWORD_REQUEST\n  };\n};\nexport var forgotPasswordSuccess = function forgotPasswordSuccess() {\n  return {\n    type: FORGOT_PASSWORD_SUCCESS\n  };\n};\nexport var forgotPasswordFailure = function forgotPasswordFailure(error) {\n  return {\n    type: FORGOT_PASSWORD_FAILURE,\n    payload: {\n      error: error\n    }\n  };\n};\nexport var forgotPassword = function forgotPassword(email) {\n  return function () {\n    var _ref = _asyncToGenerator(function* (dispatch) {\n      dispatch(forgotPasswordRequest());\n      try {\n        yield instance.post(\"/Auth/forgotPassword\", {\n          email: email\n        });\n        dispatch(forgotPasswordSuccess());\n      } catch (error) {\n        console.log(error.message);\n        dispatch(forgotPasswordFailure(error.message));\n      }\n    });\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var login = function login(credentials) {\n  return function () {\n    var _ref2 = _asyncToGenerator(function* (dispatch) {\n      dispatch(loginRequest(credentials));\n      try {\n        var response = yield instance.post(\"/Auth/login\", credentials);\n        var user = response.data;\n        dispatch(loginSuccess(user));\n      } catch (error) {\n        console.log(error.message);\n        dispatch(loginFailure(error.message));\n      }\n    });\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"names":["instance","FORGOT_PASSWORD_REQUEST","FORGOT_PASSWORD_SUCCESS","FORGOT_PASSWORD_FAILURE","RESET_PASSWORD_REQUEST","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAILURE","resetPasswordRequest","type","resetPasswordSuccess","resetPasswordFailure","error","payload","loginRequest","credentials","loginSuccess","user","loginFailure","forgotPasswordRequest","forgotPasswordSuccess","forgotPasswordFailure","forgotPassword","email","_ref","_asyncToGenerator","dispatch","post","console","log","message","_x","apply","arguments","login","_ref2","response","data","_x2"],"sources":["/Users/rodwellshibambu/Documents/resapp/Fudu App/redux/Actions/auth.Actions.ts"],"sourcesContent":["import { Action } from \"redux\";\nimport { ILogin } from \"../../core/login\";\nimport { ThunkAction } from \"redux-thunk\";\nimport axios from \"axios\";\nimport instance from \"../../axios/axios-instance\";\n\nexport const FORGOT_PASSWORD_REQUEST = \"FORGOT_PASSWORD_REQUEST\";\nexport const FORGOT_PASSWORD_SUCCESS = \"FORGOT_PASSWORD_SUCCESS\";\nexport const FORGOT_PASSWORD_FAILURE = \"FORGOT_PASSWORD_FAILURE\";\n\nexport const RESET_PASSWORD_REQUEST = 'RESET_PASSWORD_REQUEST';\nexport const RESET_PASSWORD_SUCCESS = 'RESET_PASSWORD_SUCCESS';\nexport const RESET_PASSWORD_FAILURE = 'RESET_PASSWORD_FAILURE';\n\n\nexport interface ResetPasswordRequestAction extends Action<typeof RESET_PASSWORD_REQUEST> {\n}\nexport interface ResetPasswordSuccessAction extends Action<typeof RESET_PASSWORD_SUCCESS> {\n}\nexport interface ResetPasswordFailureAction extends Action<typeof RESET_PASSWORD_FAILURE> {\n  payload: {\n    error: string; // Error message\n  };\n}\n\nexport interface ForgotPasswordRequestAction extends Action<typeof FORGOT_PASSWORD_REQUEST> {\n}\n\nexport interface ForgotPasswordSuccessAction extends Action<typeof FORGOT_PASSWORD_SUCCESS> {\n}\n\nexport interface ForgotPasswordFailureAction extends Action<typeof FORGOT_PASSWORD_FAILURE> {\n  payload: {\n    error: string;\n  };\n}\n\n\nexport interface LoginRequestAction extends Action<\"LOGIN_REQUEST\"> {\n  payload: ILogin;\n}\n\nexport interface LoginSuccessAction extends Action<\"LOGIN_SUCCESS\"> {\n  payload: {\n    user: any;\n  };\n}\n\nexport interface LoginFailureAction extends Action<\"LOGIN_FAILURE\"> {\n  payload: {\n    error: string;\n  };\n}\n\nexport type AuthAction =\n  | LoginRequestAction\n  | LoginSuccessAction\n  | LoginFailureAction\n  | ForgotPasswordRequestAction\n  | ForgotPasswordSuccessAction\n  | ForgotPasswordFailureAction;\n\n\n  export const resetPasswordRequest = () => ({\n    type:RESET_PASSWORD_REQUEST,\n  });\n  \n  export const resetPasswordSuccess =() =>({\n    type:RESET_PASSWORD_SUCCESS,\n  });\n  \n  export const resetPasswordFailure =(error: string) => ({\n    type:RESET_PASSWORD_FAILURE,\n    payload: error,\n  });\n  \n\nexport const loginRequest = (credentials: ILogin): LoginRequestAction => ({\n  type: \"LOGIN_REQUEST\",\n  payload: credentials,\n});\n\nexport const loginSuccess = (user: any): LoginSuccessAction => ({\n  type: \"LOGIN_SUCCESS\",\n  payload: { user },\n});\n\nexport const loginFailure = (error: string): LoginFailureAction => ({\n  type: \"LOGIN_FAILURE\",\n  payload: { error },\n});\n\nexport const forgotPasswordRequest = (): ForgotPasswordRequestAction => ({\n  type: FORGOT_PASSWORD_REQUEST,\n});\n\nexport const forgotPasswordSuccess = (): ForgotPasswordSuccessAction => ({\n  type: FORGOT_PASSWORD_SUCCESS,\n});\n\nexport const forgotPasswordFailure = (error: string): ForgotPasswordFailureAction => ({\n  type: FORGOT_PASSWORD_FAILURE,\n  payload: { error },\n});\n\n// Thunk for \"forgot password\" functionality\nexport const forgotPassword = (email: string): ThunkAction<void, any, unknown, AuthAction> => {\n  return async (dispatch) => {\n    dispatch(forgotPasswordRequest());\n    try {\n      await instance.post(\"/Auth/forgotPassword\", { email });\n      dispatch(forgotPasswordSuccess());\n    } catch (error: any) {\n      console.log(error.message);\n      dispatch(forgotPasswordFailure(error.message));\n    }\n  };\n};\n\n\n\n\n\n\n\n\nexport const login = (\n  credentials: ILogin\n): ThunkAction<void, any, unknown, AuthAction> => {\n  return async (dispatch) => {\n    dispatch(loginRequest(credentials));\n    try {\n      // Make a POST request to your login API endpoint\n      const response = await instance.post(\"/Auth/login\", credentials);\n\n      // Assuming the API response contains the user data\n      const user: any = response.data;\n\n      dispatch(loginSuccess(user));\n    } catch (error: any) {\n      console.log(error.message)\n      dispatch(loginFailure(error.message));\n    }\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}